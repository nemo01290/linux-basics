# 전국 공항 실시간 주차장 정보 시스템

## 👥 팀명: 7조
- 김민우
- 이준엽
- 임재영
- 정민수

---

## 📌 1. 기획

공공데이터포털의 "전국 공항 주차장 실시간 정보 API"를 활용하여  
공항별 주차장의 남은 자리 수와 혼잡도를 시각적으로 확인할 수 있는  
**자동화된 웹 페이지**를 구축하는 것이 본 프로젝트의 목표입니다.

기획 핵심 요소:
- 외부 API 실시간 데이터 활용
- 크론(cron) 기반 **5초 단위 자동 갱신**
- 혼잡도 색상 시각화 및 정렬/검색 기능
- nginx 웹서버를 통한 웹 페이지 정적 서비스
- Docker Compose로 전체 시스템 실행 및 관리

---

## ⚙️ 2. 구현 설명

- **데이터 수집**
  - `fetch_parking.sh`에서 공공데이터 API를 호출하여 XML 데이터를 수집
  - `curl`로 데이터를 받아 `/data/data.xml`로 저장

- **HTML 자동 생성**
  - `generate_html.sh`와 `render.sh`에서 XML을 파싱하고 혼잡도를 계산하여 HTML 표 생성
  - 주차율에 따라 여유/보통/혼잡을 색상으로 시각화
  - 검색창, 정렬 기능, Google 지도 링크 포함

- **자동화 처리**
  - `Dockerfile` 내부에서 `cron`을 설정하여 **5초마다 HTML이 자동 생성**되도록 설정
  - HTML은 `/data` 폴더에 저장되며 nginx에서 제공

- **웹서버 및 컨테이너 구성**
  - `docker-compose.yml`로 generator(데이터 생성) + web(nginx) 컨테이너를 관리
  - 포트 매핑: `localhost:8080`으로 접속 가능

- **기능 요약**
  - 주차장 정보 표시 (공항명, 주차장명, 남은 자리, 혼잡도)
  - 정렬 기능: 혼잡도, 남은 자리, 공항명
  - 검색 기능 (입력 후 Enter)
  - Google Maps 링크 (주차장명 클릭 시)
  - **5초 자동 새로고침**
  - 마지막 갱신 시간 표시

---

## 🧑‍🤝‍🧑 3. 팀원별 참여 내용

| 이름     | 역할 및 기여 내용 |
|----------|------------------|
| 김민우   | 시스템 설계 총괄, `generate_html.sh` HTML 틀 작성, 혼잡도 색상 로직, 검색/정렬 JavaScript 구현, 지도 링크 기능 |
| 이준엽   | `fetch_parking.sh` 전체 작성, API 구조 분석, XML 파싱 및 퍼센트 계산 로직 작성, 예외 처리 설계 |
| 임재영   | `Dockerfile` 작성, cron 자동화 설정 (5초 주기), `cron.d` 설정 구성, 실행 흐름 디버깅 |
| 정민수   | `docker-compose.yml`, nginx 설정(`default.conf`) 작성, 폴더 구조 정리, README 초안 작성 및 정리 |

---

## 📝 실행 방법 요약

```bash
# 전체 빌드 및 실행
docker-compose up --build
```

- 웹 브라우저에서 `http://localhost:8080` 접속
- HTML 페이지는 **5초마다 자동 갱신**

---

## 🔗 사용 API 출처

- 공공데이터포털: [전국 공항 주차장 실시간 정보 API](https://www.data.go.kr/data/15100417/openapi.do)
